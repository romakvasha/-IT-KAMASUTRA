{"version":3,"sources":["redux/messages-reducer.js","components/Users/Users.module.css","hoc/wuthAuthRedirect.jsx","api/api.js","components/NavBar/constats.js","components/NavBar/Nav.module.css","components/NavBar/Nav.jsx","redux/users-reducer.js","components/common/Paginator/Paginator.jsx","assets/images/usersPhoto.jpg","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","redux/navPage-reducer.js","redux/redux-store.js","hoc/withSuspense.jsx","App.js","index.js","components/common/FormsControls/formsControls.jsx","components/common/FormsControls/formsControls.module.css","assets/images/preloader.gif","components/common/preloader/preloader.jsx","components/Header/Header.module.css","components/common/Paginator/Paginator.module.css","utils/validators/validators.jsx","redux/profile-reducer.js"],"names":["ADD_MESSAGE","initialState","messages","id","message","dialogs","name","img","addMessage","newMessageBody","type","messagesReducer","state","action","body","Date","now","module","exports","mapStateToPropsForRedirect","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","profileAPI","pageNumber","authAPI","me","login","email","password","rememberMe","logout","getStatus","updateStatus","status","put","DIALOGS","PROFILE","NEWS","MUSIC","SETTING","FINDUSERS","LOGIN","Nav","className","s","nav","item","activeClassName","active","friendsBarItems","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setUsers","setTotalUsersCount","count","toggletIsFetching","toggletIsFollowingProgres","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","map","u","followed","filter","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","onClick","p","cn","selectedPage","e","User","user","src","photos","small","usersPhoto","alt","disabled","some","Users","onPageChanget","getUsersSel","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","setCurrentPage","items","compose","bind","totalCount","Header","header","loginBlock","SET_USER_DATA","setAuthtUsersdata","payload","getAuthtUsersdata","authReducer","HeaderContainer","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","createField","Input","required","style","formSammaryError","length","stopSubmit","_error","formData","INITIALIZED_SUCCESS","initialized","appReducer","navFriends","navReducer","require","createStore","combineReducers","applyMiddleware","store","profilePage","profileReducer","messagesPage","navPage","formReducer","app","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","thankMiddleware","withSuspense","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","class","path","render","AppContainer","withRouter","MainApp","ReactDOM","document","getElementById","Textarea","input","meta","touched","showError","formControl","placeholder","component","validate","text","Preloader","preloader","value","maxLengthCreator","maxLength","ADD_POST","SET_USERS_PROFILE","SET_STATUS","postData","likesCount","newPostText","profile","onAddPost","newPostBody","setStatus","getUsersProfile"],"mappings":"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","file":"static/js/main.d03113db.chunk.js","sourcesContent":["const ADD_MESSAGE = \"ADD-MESSAGE\";\r\n\r\nconst initialState = {\r\n  messages: [{ id: 1, message: \"Привіт\" }],\r\n  dialogs: [\r\n    {\r\n      id: 1,\r\n      name: \"Ruslana\",\r\n      img: \"https://upload.wikimedia.org/wikipedia/commons/0/0e/Felis_silvestris_silvestris.jpg\",\r\n    },\r\n    {\r\n      id: 2,\r\n      name: \"Roma\",\r\n      img: \"https://upload.wikimedia.org/wikipedia/commons/0/0e/Felis_silvestris_silvestris.jpg\",\r\n    },\r\n    {\r\n      id: 3,\r\n      name: \"Taras\",\r\n      img: \"https://upload.wikimedia.org/wikipedia/commons/0/0e/Felis_silvestris_silvestris.jpg\",\r\n    },\r\n    {\r\n      id: 4,\r\n      name: \"Sergey\",\r\n      img: \"https://upload.wikimedia.org/wikipedia/commons/0/0e/Felis_silvestris_silvestris.jpg\",\r\n    },\r\n    {\r\n      id: 5,\r\n      name: \"Andry\",\r\n      img: \"https://upload.wikimedia.org/wikipedia/commons/0/0e/Felis_silvestris_silvestris.jpg\",\r\n    },\r\n  ],\r\n};\r\n\r\nconst messagesReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_MESSAGE:\r\n      const body = action.newMessageBody;\r\n      return {\r\n        ...state,\r\n        messages: [\r\n          ...state.messages,\r\n          {\r\n            id: Date.now(),\r\n            message: body,\r\n          },\r\n        ],\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const addMessage = (newMessageBody) => ({\r\n  type: ADD_MESSAGE,\r\n  newMessageBody,\r\n});\r\n\r\nexport default messagesReducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPhoto\":\"Users_usersPhoto__v4Yjz\"};","import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n  class RedirectComponent extends React.Component {\r\n    render() {\r\n      if (!this.props.isAuth) return <Redirect to=\"/login\" />;\r\n\r\n      return <Component {...this.props} />;\r\n    }\r\n  }\r\n\r\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(\r\n    RedirectComponent\r\n  );\r\n\r\n  return ConnectedAuthRedirectComponent;\r\n};\r\n","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n  headers: { \"API-KEY\": \"c8a462de-b11f-4b2e-be51-ab003e93d29e\" },\r\n});\r\n\r\nexport const usersAPI = {\r\n  getUsers(currentPage = 1, pageSize = 5) {\r\n    return instance\r\n      .get(`users?page=${currentPage}&count=${pageSize}`, {})\r\n      .then((response) => {\r\n        return response.data;\r\n      });\r\n  },\r\n  follow(userId) {\r\n    return instance.post(`follow/${userId}`);\r\n  },\r\n  unfollow(userId) {\r\n    return instance.delete(`follow/${userId}`);\r\n  },\r\n  getProfile(userId) {\r\n    return profileAPI.getProfile(userId);\r\n  },\r\n  pageNumber(pageNumber, pageSize) {\r\n    instance.get(`users?page=${pageNumber}&count=${pageSize}`);\r\n  },\r\n};\r\n\r\nexport const authAPI = {\r\n  me() {\r\n    return instance.get(`auth/me`);\r\n  },\r\n  login(email, password, rememberMe = false) {\r\n    return instance.post(`auth/login`, { email, password, rememberMe });\r\n  },\r\n  logout() {\r\n    return instance.delete(`auth/login`);\r\n  },\r\n};\r\n\r\nexport const profileAPI = {\r\n  getProfile(userId) {\r\n    return instance.get(`profile/` + userId);\r\n  },\r\n  getStatus(userId) {\r\n    return instance.get(`profile/status/` + userId);\r\n  },\r\n  updateStatus(status) {\r\n    return instance.put(`profile/status/`, { status: status });\r\n  },\r\n};\r\n","export const DIALOGS = \"/dialogs\";\r\nexport const PROFILE = \"/profile/:userId?\";\r\nexport const NEWS = \"/news\";\r\nexport const MUSIC = \"/music\";\r\nexport const SETTING = \"/settings\";\r\nexport const FINDUSERS = \"/users\";\r\nexport const LOGIN = \"/login\";\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__3v7HH\",\"item\":\"Nav_item___DvvR\",\"active\":\"Nav_active__2uWJf\",\"friendsBarItems\":\"Nav_friendsBarItems__1bsC1\"};","import React from \"react\";\r\nimport s from \"./Nav.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { DIALOGS, FINDUSERS, MUSIC, NEWS, PROFILE, SETTING } from \"./constats\";\r\n\r\nconst Nav = (props) => {\r\n  return (\r\n    <div>\r\n      <nav className={s.nav}>\r\n        <div className={s.item}>\r\n          <NavLink to={PROFILE} activeClassName={s.active}>\r\n            Profile\r\n          </NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <NavLink to={DIALOGS} activeClassName={s.active}>\r\n            Messages\r\n          </NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <NavLink to={NEWS}>News</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <NavLink to={MUSIC}>Music</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <NavLink to={SETTING}>Settings</NavLink>\r\n        </div>\r\n        <div className={s.friendsBarItems}>\r\n          <NavLink to={FINDUSERS} activeClassName={s.active}>\r\n            <h5>Find Users</h5>\r\n          </NavLink>\r\n        </div>\r\n      </nav>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Nav;\r\n","import { usersAPI } from \"../api/api\";\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE_IS_FOLLOWING_PROGRESS\";\r\n\r\nconst initialState = {\r\n  users: [],\r\n  pageSize: 10,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: true,\r\n  followingInProgress: [],\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map((u) => {\r\n          if (u.id === action.userId) {\r\n            return { ...u, followed: true };\r\n          }\r\n          return u;\r\n        }),\r\n      };\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map((u) => {\r\n          if (u.id === action.userId) {\r\n            return { ...u, followed: false };\r\n          }\r\n          return u;\r\n        }),\r\n      };\r\n    case SET_USERS: {\r\n      return { ...state, users: action.users };\r\n    }\r\n    case SET_CURRENT_PAGE: {\r\n      return { ...state, currentPage: action.currentPage };\r\n    }\r\n    case SET_TOTAL_USERS_COUNT: {\r\n      return { ...state, totalUsersCount: action.count };\r\n    }\r\n    case TOGGLE_IS_FETCHING: {\r\n      return { ...state, isFetching: action.isFetching };\r\n    }\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter((id) => id != action.userId),\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId });\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId });\r\nexport const setUsers = (users) => ({ type: SET_USERS, users });\r\nexport const setCurrentPage = (currentPage) => ({\r\n  type: SET_CURRENT_PAGE,\r\n  currentPage,\r\n});\r\nexport const setTotalUsersCount = (totalUsersCount) => ({\r\n  type: SET_TOTAL_USERS_COUNT,\r\n  count: totalUsersCount,\r\n});\r\nexport const toggletIsFetching = (isFetching) => ({\r\n  type: TOGGLE_IS_FETCHING,\r\n  isFetching,\r\n});\r\nexport const toggletIsFollowingProgres = (isFetching, userId) => ({\r\n  type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n  isFetching,\r\n  userId,\r\n});\r\n\r\nexport const getUsers = (currentPage, pageSize) => {\r\n  return async (dispatch) => {\r\n    dispatch(toggletIsFetching(true));\r\n    const data = await usersAPI.getUsers(currentPage, pageSize);\r\n    dispatch(toggletIsFetching(false));\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setTotalUsersCount(data.totalCount));\r\n  };\r\n};\r\n\r\nconst followUnfollowFlow = async (\r\n  dispatch,\r\n  userId,\r\n  apiMethod,\r\n  actionCreator\r\n) => {\r\n  dispatch(toggletIsFollowingProgres(true, userId));\r\n  const response = await apiMethod(userId);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(actionCreator(userId));\r\n  }\r\n  dispatch(toggletIsFollowingProgres(false, userId));\r\n};\r\n\r\nexport const follow = (userId) => {\r\n  return async (dispatch) => {\r\n    followUnfollowFlow(\r\n      dispatch,\r\n      userId,\r\n      usersAPI.follow.bind(usersAPI),\r\n      followSuccess\r\n    );\r\n  };\r\n};\r\n\r\nexport const unfollow = (userId) => {\r\n  return async (dispatch) => {\r\n    followUnfollowFlow(\r\n      dispatch,\r\n      userId,\r\n      usersAPI.unfollow.bind(usersAPI),\r\n      unfollowSuccess\r\n    );\r\n  };\r\n};\r\n\r\nexport default usersReducer;\r\n","import React, { useState } from \"react\";\r\nimport styles from \"./Paginator.module.css\";\r\nimport cn from \"classnames\";\r\n\r\nconst Paginator = ({\r\n  totalItemsCount,\r\n  pageSize,\r\n  onPageChanged,\r\n  currentPage,\r\n  portionSize = 10,\r\n}) => {\r\n  const pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n  const pages = [];\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  let portionCount = Math.ceil(pagesCount / portionSize);\r\n  let [portionNumber, setPortionNumber] = useState(1);\r\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n  let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n  return (\r\n    <div className={styles.paginator}>\r\n      {portionNumber > 1 && (\r\n        <button\r\n          onClick={() => {\r\n            setPortionNumber(portionNumber - 1);\r\n          }}\r\n        >\r\n          PREV\r\n        </button>\r\n      )}\r\n\r\n      {pages\r\n        .filter(\r\n          (p) => p >= leftPortionPageNumber && p <= rightPortionPageNumber\r\n        )\r\n        .map((p) => {\r\n          return (\r\n            <span\r\n              className={cn(\r\n                {\r\n                  [styles.selectedPage]: currentPage === p,\r\n                },\r\n                styles.pageNumber\r\n              )}\r\n              key={p}\r\n              onClick={(e) => {\r\n                onPageChanged(p);\r\n              }}\r\n            >\r\n              {p}\r\n            </span>\r\n          );\r\n        })}\r\n      {portionCount > portionNumber && (\r\n        <button\r\n          onClick={() => {\r\n            setPortionNumber(portionNumber + 1);\r\n          }}\r\n        >\r\n          NEXT\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Paginator;\r\n","export default __webpack_public_path__ + \"static/media/usersPhoto.a525e5ed.jpg\";","import React from \"react\";\r\nimport s from \"./Users.module.css\";\r\nimport usersPhoto from \"../../assets/images/usersPhoto.jpg\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst User = ({ user, followingInProgress, unfollow, follow, ...props }) => {\r\n  return (\r\n    <div>\r\n      <span>\r\n        <div>\r\n          <NavLink to={\"/profile/\" + user.id}>\r\n            <img\r\n              src={user.photos.small != null ? user.photos.small : usersPhoto}\r\n              className={s.usersPhoto}\r\n              alt=\"аватарка\"\r\n            />\r\n          </NavLink>\r\n        </div>\r\n        <div>\r\n          {user.followed ? (\r\n            <button\r\n              disabled={followingInProgress.some((id) => id === user.id)}\r\n              onClick={() => {\r\n                unfollow(user.id);\r\n              }}\r\n            >\r\n              UnFollow\r\n            </button>\r\n          ) : (\r\n            <button\r\n              disabled={followingInProgress.some((id) => id === user.id)}\r\n              onClick={() => {\r\n                follow(user.id);\r\n              }}\r\n            >\r\n              Follow\r\n            </button>\r\n          )}\r\n        </div>\r\n      </span>\r\n      <span>\r\n        <span>\r\n          <div>{user.name}</div>\r\n          <div>{user.status}</div>\r\n        </span>\r\n        <span>\r\n          <div>{/*u.location.country*/}</div>\r\n          <div>{/*u.location.city*/}</div>\r\n        </span>\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\nexport default User;\r\n","import React from \"react\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nconst Users = ({\r\n  totalUsersCount,\r\n  pageSize,\r\n  onPageChanget,\r\n  currentPage,\r\n  users,\r\n  followingInProgress,\r\n  unfollow,\r\n  follow,\r\n  ...props\r\n}) => {\r\n  return (\r\n    <div>\r\n      <Paginator\r\n        totalItemsCount={totalUsersCount}\r\n        pageSize={pageSize}\r\n        onPageChanged={onPageChanget}\r\n        currentPage={currentPage}\r\n        {...props}\r\n      />\r\n\r\n      <div>\r\n        {users.map((u) => (\r\n          <User\r\n            key={users.id}\r\n            user={u}\r\n            followingInProgress={followingInProgress}\r\n            unfollow={unfollow}\r\n            follow={follow}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Users;\r\n","export const getUsersSel = (state) => {\r\n  return state.usersPage.users;\r\n};\r\nexport const getPageSize = (state) => {\r\n  return state.usersPage.pageSize;\r\n};\r\nexport const getTotalUsersCount = (state) => {\r\n  return state.usersPage.totalUsersCount;\r\n};\r\nexport const getCurrentPage = (state) => {\r\n  return state.usersPage.currentPage;\r\n};\r\nexport const getIsFetching = (state) => {\r\n  return state.usersPage.isFetching;\r\n};\r\nexport const getFollowingInProgress = (state) => {\r\n  return state.usersPage.followingInProgress;\r\n};\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  follow,\r\n  setCurrentPage,\r\n  setTotalUsersCount,\r\n  setUsers,\r\n  toggletIsFetching,\r\n  unfollow,\r\n  toggletIsFollowingProgres,\r\n  getUsers,\r\n} from \"../../redux/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport * as axios from \"axios\";\r\nimport Preloader from \"../common/preloader/preloader\";\r\nimport { withAuthRedirect } from \"../../hoc/wuthAuthRedirect\";\r\nimport { compose } from \"redux\";\r\nimport {\r\n  getCurrentPage,\r\n  getFollowingInProgress,\r\n  getIsFetching,\r\n  getPageSize,\r\n  getTotalUsersCount,\r\n  getUsersSel,\r\n} from \"../../redux/users-selectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n  componentDidMount() {\r\n    this.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n\r\n    /*this.props.toggletIsFetching(true);\r\n    usersAPI.getUsers().then((data) => {\r\n      this.props.toggletIsFetching(false);\r\n      this.props.setUsers(data.items);\r\n      this.props.setTotalUsersCount(data.totalCount);\r\n    });*/\r\n  }\r\n\r\n  onPageChanget = (pageNumber) => {\r\n    this.props.setCurrentPage(pageNumber);\r\n    this.props.toggletIsFetching(true);\r\n    axios\r\n      .get(\r\n        `https://social-network.samuraijs.com/api/1.0/users?page=${pageNumber}&count=${this.props.pageSize}`\r\n      )\r\n      .then((response) => {\r\n        this.props.toggletIsFetching(false);\r\n        this.props.setUsers(response.data.items);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.isFetching ? <Preloader /> : null}\r\n        <Users\r\n          totalUsersCount={this.props.totalUsersCount}\r\n          pageSize={this.props.pageSize}\r\n          currentPage={this.props.currentPage}\r\n          onPageChanget={this.onPageChanget}\r\n          users={this.props.users}\r\n          follow={this.props.follow}\r\n          unfollow={this.props.unfollow}\r\n          toggletIsFollowingProgres={this.props.toggletIsFollowingProgres}\r\n          followingInProgress={this.props.followingInProgress}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsersSel(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state),\r\n  };\r\n};\r\n/*const mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    follow: (userId) => {\r\n      dispatch(followAC(userId));\r\n    },\r\n    unfollow: (userId) => {\r\n      dispatch(unfollowAC(userId));\r\n    },\r\n    setUsers: (users) => {\r\n      dispatch(setUsersAC(users));\r\n    },\r\n    setCurrentPage: (pageNumber) => {\r\n      dispatch(setCurrentPageAC(pageNumber));\r\n    },\r\n    setTotalUsersCount: (totalCount) => {\r\n      dispatch(setTotalUsersCountAC(totalCount));\r\n    },\r\n    toggletIsFetching: (isFetching) => {\r\n      dispatch(toggletIsFetchingAC(isFetching));\r\n    },\r\n  };\r\n};*/\r\nexport default compose(\r\n  // withAuthRedirect,\r\n  connect(mapStateToProps, {\r\n    follow,\r\n    unfollow,\r\n    setCurrentPage,\r\n    toggletIsFollowingProgres,\r\n    getUsers,\r\n    toggletIsFetching,\r\n    setTotalUsersCount,\r\n    setUsers,\r\n  })\r\n)(UsersContainer);\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport s from \"./Header.module.css\";\r\n\r\nconst Header = ({ isAuth, login, logout }) => {\r\n  return (\r\n    <header className={s.header}>\r\n      <img src=\"https://1757140519.rsc.cdn77.org/blog/wp-content/uploads/2018/05/1-google-logo.png\"></img>\r\n\r\n      <div className={s.loginBlock}>\r\n        {isAuth ? (\r\n          <div>\r\n            {login} - <button onClick={logout}>Log out</button>\r\n          </div>\r\n        ) : (\r\n          <NavLink to={\"/login\"}>Login</NavLink>\r\n        )}\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import { stopSubmit } from \"redux-form\";\r\nimport { authAPI } from \"../api/api\";\r\n\r\nconst SET_USER_DATA = \"SET_USER_DATA\";\r\n\r\nconst initialState = {\r\n  userId: null,\r\n  login: null,\r\n  email: null,\r\n  isAuth: false,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const setAuthtUsersdata = (userId, login, email, isAuth) => ({\r\n  type: SET_USER_DATA,\r\n  payload: { userId, login, email, isAuth },\r\n});\r\n\r\nexport const getAuthtUsersdata = () => async (dispatch) => {\r\n  const response = await authAPI.me();\r\n  if (response.data.resultCode === 0) {\r\n    const { id, email, login } = response.data.data;\r\n    dispatch(setAuthtUsersdata(id, email, login, true));\r\n  }\r\n};\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n  const response = await authAPI.login(email, password, rememberMe);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(getAuthtUsersdata());\r\n  } else {\r\n    let message =\r\n      response.data.messages.length > 0\r\n        ? response.data.messages[0]\r\n        : \"Some error\";\r\n    dispatch(stopSubmit(\"login\", { _error: message }));\r\n  }\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n  const response = await authAPI.logout();\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setAuthtUsersdata(null, null, null, false));\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Header from \"./Header\";\r\nimport s from \"./Header.module.css\";\r\nimport { logout } from \"../../redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n  render() {\r\n    return <Header {...this.props} />;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login,\r\n});\r\nexport default connect(mapStateToProps, { logout })(HeaderContainer);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { reduxForm } from \"redux-form\";\r\nimport { required } from \"../../utils/validators/validators\";\r\nimport { createField, Input } from \"../common/FormsControls/formsControls\";\r\nimport { login } from \"../../redux/auth-reducer\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport style from \"./../common/FormsControls/formsControls.module.css\";\r\n\r\nconst LoginForm = ({ handleSubmit, error }) => {\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      {createField(\"Email\", \"email\", Input, [required])}\r\n      {createField(\"Password\", \"password\", Input, [required], {\r\n        type: \"password\",\r\n      })}\r\n      {createField(\r\n        null,\r\n        \"remember me\",\r\n        Input,\r\n        [],\r\n        { type: \"checkbox\" },\r\n        \"remember me\"\r\n      )}\r\n      {error && <div className={style.formSammaryError}>{error}</div>}\r\n      <div>\r\n        <button> Login</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({\r\n  form: \"login\",\r\n})(LoginForm);\r\n\r\nconst Login = ({ login, isAuth }) => {\r\n  const onSubmit = (formData) => {\r\n    login(formData.email, formData.password, formData.rememberMe);\r\n  };\r\n  if (isAuth) {\r\n    return <Redirect to={\"/profile\"} />;\r\n  }\r\n  return (\r\n    <div>\r\n      <h1>LOGIN</h1>\r\n      <LoginReduxForm onSubmit={onSubmit} />\r\n    </div>\r\n  );\r\n};\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n});\r\nexport default connect(mapStateToProps, { login })(Login);\r\n","import { stopSubmit } from \"redux-form\";\r\nimport { authAPI } from \"../api/api\";\r\nimport { getAuthtUsersdata } from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = \"SET_INITIALIZED\";\r\n\r\nconst initialState = {\r\n  initialized: false,\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case INITIALIZED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        initialized: true,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const initializedSuccess = () => ({\r\n  type: INITIALIZED_SUCCESS,\r\n});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n  let promise = dispatch(getAuthtUsersdata());\r\n  promise.then(() => {\r\n    dispatch(initializedSuccess());\r\n  });\r\n};\r\nexport default appReducer;\r\n","const initialState = {\r\n  navFriends: [\r\n    {\r\n      name: \"Ruslana\",\r\n      img: \"https://images.unsplash.com/photo-1472491235688-bdc81a63246e?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1170&q=80\",\r\n      alt: \"Аватар\",\r\n    },\r\n    {\r\n      name: \"Roma\",\r\n      img: \"https://crosti.ru/patterns/00/09/59/dc0d3fd8fa/picture.jpg\",\r\n      alt: \"Аватар\",\r\n    },\r\n    {\r\n      name: \"Taras\",\r\n      img: \"https://crosti.ru/patterns/00/09/59/dc0d3fd8fa/picture.jpg\",\r\n      alt: \"Аватар\",\r\n    },\r\n  ],\r\n};\r\n\r\nconst navReducer = (state = initialState, action) => {\r\n  return state;\r\n};\r\n\r\nexport default navReducer;\r\n","import authReducer from \"./auth-reducer\";\r\nimport messagesReducer from \"./messages-reducer\";\r\nimport navReducer from \"./navPage-reducer\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport thankMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from \"redux-form\";\r\nimport appReducer from \"./app-reducer\";\r\n\r\nconst {\r\n  createStore,\r\n  combineReducers,\r\n  applyMiddleware,\r\n  compose,\r\n} = require(\"redux\");\r\n\r\nconst reducers = combineReducers({\r\n  profilePage: profileReducer,\r\n  messagesPage: messagesReducer,\r\n  navPage: navReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  app: appReducer,\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n  reducers,\r\n  composeEnhancers(applyMiddleware(thankMiddleware))\r\n);\r\n\r\nexport default store;\r\n","import React from \"react\";\r\nimport Preloader from \"../components/common/preloader/preloader\";\r\n\r\nexport const withSuspense = (Component) => {\r\n  return (props) => {\r\n    return (\r\n      <React.Suspense fallback={<Preloader />}>\r\n        <Component {...props} />\r\n      </React.Suspense>\r\n    );\r\n  };\r\n};\r\n","import React from \"react\";\r\nimport \"./App.css\";\r\nimport Nav from \"./components/NavBar/Nav\";\r\nimport { Route, withRouter } from \"react-router-dom\";\r\nimport {\r\n  DIALOGS,\r\n  FINDUSERS,\r\n  LOGIN,\r\n  PROFILE,\r\n} from \"./components/NavBar/constats\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport Login from \"./components/Login/Login\";\r\nimport { connect, Provider } from \"react-redux\";\r\nimport { initializeApp } from \"../src/redux/app-reducer\";\r\nimport { compose } from \"redux\";\r\nimport Preloader from \"./components/common/preloader/preloader\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport store from \"./redux/redux-store\";\r\nimport { withSuspense } from \"./hoc/withSuspense\";\r\n\r\nconst DialogsContainer = React.lazy(() =>\r\n  import(\"./components/Dialogs/DialogsContainer\")\r\n);\r\nconst ProfileContainer = React.lazy(() =>\r\n  import(\"./components/Profile/ProfileContainer\")\r\n);\r\n\r\nclass App extends React.Component {\r\n  componentDidMount() {\r\n    this.props.initializeApp();\r\n  }\r\n  render() {\r\n    if (!this.props.initialized) {\r\n      return <Preloader />;\r\n    }\r\n    return (\r\n      <div className=\"app-wrapper\">\r\n        <HeaderContainer />\r\n        <Nav />\r\n        <div class=\"app-wrapper-content\">\r\n          <Route path={DIALOGS} render={withSuspense(DialogsContainer)} />\r\n          <Route path={PROFILE} render={withSuspense(ProfileContainer)} />\r\n          <Route path={FINDUSERS} render={() => <UsersContainer />} />\r\n          <Route path={LOGIN} render={() => <Login />} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  initialized: state.app.initialized,\r\n});\r\n\r\nconst AppContainer = compose(\r\n  withRouter,\r\n  connect(mapStateToProps, { initializeApp })\r\n)(App);\r\n\r\nconst MainApp = (props) => {\r\n  return (\r\n    <BrowserRouter>\r\n      <Provider store={store}>\r\n        <AppContainer />\r\n      </Provider>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default MainApp;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport MainApp from \"./App\";\r\n\r\nReactDOM.render(<MainApp />, document.getElementById(\"root\"));\r\n","import React from \"react\";\r\nimport styles from \"./formsControls.module.css\";\r\nimport { Field } from \"redux-form\";\r\n\r\nexport const Textarea = ({ input, meta: {touched,error}, ...props }) => {\r\n  const showError = touched && error;\r\n  return (\r\n    <div className={styles.formControl + \" \" + (showError ? styles.error : \"\")}>\r\n      <textarea {...input} {...props} />\r\n      {showError && <span>{error}</span>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const Input = ({ input, meta, ...props }) => {\r\n  const showError = meta.touched && meta.error;\r\n  return (\r\n    <div className={styles.formControl + \" \" + (showError ? styles.error : \"\")}>\r\n      <input {...input} {...props} />\r\n      {showError && <span>{meta.error}</span>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const createField = (\r\n  placeholder,\r\n  name,\r\n  component,\r\n  validate,\r\n  props = {},\r\n  text = \"\"\r\n) => {\r\n  return (\r\n    <div>\r\n      <Field\r\n        placeholder={placeholder}\r\n        name={name}\r\n        component={component}\r\n        validate={validate}\r\n        {...props}\r\n      />\r\n      {text}\r\n    </div>\r\n  );\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"formsControls_formControl__11kU4\",\"error\":\"formsControls_error__1a7-a\",\"formSammaryError\":\"formsControls_formSammaryError__1rok6\"};","export default __webpack_public_path__ + \"static/media/preloader.4c0dabf6.gif\";","import React from \"react\";\r\nimport preloader from \"../../../assets/images/preloader.gif\";\r\n\r\nconst Preloader = () => {\r\n  return <img src={preloader} alt=\"загрузка\" />;\r\n};\r\nexport default Preloader;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3yVnO\",\"loginBlock\":\"Header_loginBlock__1BCuR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__3KXj1\",\"pageNumber\":\"Paginator_pageNumber__1JkVN\",\"selectedPage\":\"Paginator_selectedPage__3ngfJ\"};","export const required = (value) => {\r\n  if (value) return undefined;\r\n  return \"Field is required\";\r\n};\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n  if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n  return undefined;\r\n};\r\n","import { profileAPI, usersAPI } from \"../api/api\";\r\n\r\nconst ADD_POST = \"ADD-POST\";\r\nconst SET_USERS_PROFILE = \"SET_USERS_PROFILE\";\r\nconst SET_STATUS = \"SET_STATUS\";\r\n\r\nconst initialState = {\r\n  postData: [{ id: 1, message: \"Привіт, як справи?\", likesCount: 12 }],\r\n  newPostText: \"Roman\",\r\n  profile: null,\r\n  status: \"\",\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_STATUS:\r\n      return { ...state, status: action.status };\r\n    case ADD_POST: {\r\n      const body = action.newPostBody;\r\n      return {\r\n        ...state,\r\n        postData: [\r\n          ...state.postData,\r\n          { id: Date.now(), message: body, likesCount: Date.now() },\r\n        ],\r\n      };\r\n    }\r\n    case SET_USERS_PROFILE:\r\n      return { ...state, profile: action.profile };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const onAddPost = (newPostBody) => ({ type: ADD_POST, newPostBody });\r\nconst setUsersProfile = (profile) => ({\r\n  type: SET_USERS_PROFILE,\r\n  profile,\r\n});\r\nexport const setStatus = (status) => ({\r\n  type: SET_STATUS,\r\n  status,\r\n});\r\nexport const getUsersProfile = (userId) => async (dispatch) => {\r\n  const response = await usersAPI.getProfile(userId);\r\n  dispatch(setUsersProfile(response.data));\r\n};\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n  const response = await profileAPI.getStatus(userId);\r\n  dispatch(setStatus(response.data));\r\n};\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n  const response = await profileAPI.updateStatus(status);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setStatus(status));\r\n  }\r\n};\r\n\r\nexport default profileReducer;\r\n"],"sourceRoot":""}